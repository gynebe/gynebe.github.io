let slider=document.querySelector(".slider"),sliderItems=slider.querySelector(".slides"),slides=Array.from(sliderItems.children),prev=slider.querySelector(".prev"),next=slider.querySelector(".next"),index=0;function initBullets(){let t=document.createElement("div");t.classList.add("sliderBullets"),slides.forEach(()=>{var e=document.createElement("button");e.classList.add("bullets"),t.appendChild(e)}),t.firstElementChild.classList.add("currentSlide"),slider.appendChild(t)}function slide(e,i,t,n){let s=0,d=0,l,r,o=100,c=i.querySelectorAll(".slide"),u=slider.querySelector(".sliderBullets"),a=Array.from(u.children),f=c.length,m=void c[0].offsetWidth,y=c[0],v=c[f-1],h=y.cloneNode(!0),p=v.cloneNode(!0),x=!0,L=(e,t)=>{e.classList.remove("currentSlide"),a[t].classList.add("currentSlide")};function S(e){(e=e||window.event).preventDefault(),l=i.offsetLeft,"touchstart"==e.type?s=e.touches[0].clientX:(s=e.clientX,document.onmouseup=q,document.onmousemove=E)}function E(e){e=e||window.event,s=("touchmove"==e.type?(d=s-e.touches[0].clientX,e.touches[0]):(d=s-e.clientX,e)).clientX,i.style.left=i.offsetLeft-d+"px"}function q(e){(r=i.offsetLeft)-l<-o?w(1):r-l>o?w(-1):i.style.setProperty("left",-100*(index+1)+"%"),document.onmouseup=null,document.onmousemove=null}function w(e){i.classList.add("shifting"),x&&(1===e?(index++,i.style.setProperty("left",-100*(index+1)+"%")):-1===e&&(index--,i.style.setProperty("left",-100*(index+1)+"%"))),x=!1}i.appendChild(h),i.insertBefore(p,y),e.classList.add("loaded"),i.onmousedown=S,i.addEventListener("touchstart",S),i.addEventListener("touchend",q),i.addEventListener("touchmove",E),t.addEventListener("click",function(){w(-1)}),n.addEventListener("click",function(){w(1)}),u.addEventListener("click",e=>{let t=e.target.closest("button");var n;null!==t&&(e=slider.querySelector(".currentSlide"),-1!==(n=a.findIndex(e=>e===t)))&&(L(e,n),i.classList.add("shifting"),index=n,i.style.setProperty("left",-100*(index+1)+"%"))}),i.addEventListener("transitionend",function(){i.classList.remove("shifting"),-1===index&&(index=f-1,i.style.setProperty("left",-100*(index+1)+"%"));index===f&&(index=0,i.style.setProperty("left",-100*(index+1)+"%"));L(slider.querySelector(".currentSlide"),index),x=!0}),window.addEventListener("resize",e=>{m=c[0].offsetWidth})}initBullets(),slide(slider,sliderItems,prev,next);